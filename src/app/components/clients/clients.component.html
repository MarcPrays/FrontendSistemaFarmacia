<div class="clients-container">
  <div class="clients-header">
    <div>
      <h1 class="page-title">Gesti√≥n de Clientes</h1>
      <p class="page-subtitle">Administra y gestiona los clientes del sistema farmac√©utico</p>
    </div>
    <div class="user-info">
      <div class="user-avatar">üë§</div>
      <div class="user-details">
        <span class="user-name">Admin</span>
        <span class="user-role">Administrador</span>
      </div>
      <span class="dropdown-icon">‚ñº</span>
    </div>
  </div>

  <div class="stats-cards">
    <div class="stat-card">
      <div class="stat-label">Total</div>
      <div class="stat-value">{{ stats.total }}</div>
    </div>
    <div class="stat-card">
      <div class="stat-label">Activos</div>
      <div class="stat-value active">{{ stats.active }}</div>
    </div>
    <div class="stat-card">
      <div class="stat-label">Inactivos</div>
      <div class="stat-value inactive">{{ stats.inactive }}</div>
    </div>
    <button class="add-btn" (click)="addClient()">
      <span>+</span> Nuevo Cliente
    </button>
  </div>

  <div class="search-bar-container">
    <div class="search-bar">
      <span class="search-icon">üîç</span>
      <input 
        type="text" 
        placeholder="Buscar por nombre, email o tel√©fono..." 
        [(ngModel)]="searchTerm"
        (input)="searchClients()"
        class="search-input">
    </div>
    <span class="results-count">{{ filteredClients.length }} clientes</span>
  </div>

  <div class="table-container">
    <table class="clients-table">
      <thead>
        <tr>
          <th>FOTO</th>
          <th>CLIENTE</th>
          <th>CONTACTO</th>
          <th>ESTADO</th>
          <th>ACCIONES</th>
        </tr>
      </thead>
      <tbody>
        @for (client of filteredClients; track client.id) {
          <tr>
            <td>
              <div class="avatar-cell">
                <div class="avatar">{{ client.first_name.charAt(0) }}{{ client.last_name.charAt(0) }}</div>
              </div>
            </td>
            <td>
              <div class="client-name">{{ client.fullName }}</div>
            </td>
            <td>
              <div class="contact-info">
                <div class="email">{{ client.email }}</div>
                <div class="phone">{{ client.phone }}</div>
              </div>
            </td>
            <td>
              <span class="status-badge" [class.active]="client.status === 1">
                {{ client.status === 1 ? 'Activo' : 'Inactivo' }}
              </span>
            </td>
            <td>
              <div class="action-buttons">
                <button class="action-btn edit" (click)="editClient(client)" title="Editar">‚úèÔ∏è</button>
                <button class="action-btn delete" (click)="deleteClient(client)" title="Eliminar">üóëÔ∏è</button>
              </div>
            </td>
          </tr>
        }
      </tbody>
    </table>
  </div>
</div>
