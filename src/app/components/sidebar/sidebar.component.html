<div class="sidebar" [class.closed]="!isOpen">
  <div class="sidebar-header">
    <button class="toggle-btn" (click)="onToggleSidebar()">
      <span class="hamburger-icon">☰</span>
    </button>

    @if (isOpen) {
      <div class="brand">
        <div class="avatar">
          <div class="avatar-circle"></div>
        </div>
        <span class="brand-title">Brand Title</span>
      </div>
    }
  </div>

  <nav class="sidebar-nav">
    <ul class="menu-list">

      @for (item of menuItems; track item) {
        <li class="menu-item">

          <div class="menu-item-content" (click)="toggleMenu(item)">
            <span class="menu-icon">{{ item.icon }}</span>

            @if (isOpen) {
              <span class="menu-text">{{ item.name }}</span>
            }

            @if (item.children && isOpen) {
              <span class="expand-icon">
                {{ item.expanded ? '▼' : '▶' }}
              </span>
            }
          </div>

          @if (item.children && item.expanded && isOpen) {
            <ul class="submenu">

              @for (child of item.children; track child) {
                <li class="submenu-item">
                  <span class="submenu-icon">{{ child.icon }}</span>
                  <span class="submenu-text">{{ child.name }}</span>
                </li>
              }

            </ul>
          }

        </li>
      }

    </ul>
  </nav>
</div>
